<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="vonbook.css" type="text/css">
    <script type="text/javascript" src="roman_books.json"></script>
    <script type="text/javascript" src="horror_books.json"></script>
    <meta charset="UTF-8">
    <title>book</title>

    <script>
		
        // Variable zum Laden der JSON-Dateien über HTTP.
        var request = new XMLHttpRequest();

        // Beim Seitenaufruf wird die Funktion ausgefuehrt.
        window.onload = function () {
	
		
            // horror_books.json-Datei wird mit "GET" geladen.
            request.open("GET", "horror_books.json", false);
            // Daten werden uebertragen.
            request.send();

            // Die Daten der JSON-Datei werden ausgelesen und die Daten von horrordata aus dieser JSON-Datei in der Variable horror gespeichert.
            var horrorbook = JSON.parse(request.responseText);
            horrorbook = horrorbook.horrordata;

            // roman_books.json-Datei wird mit "GET" geladen.
            request.open("GET", "roman_books.json", false);
            // Daten werden uebertragen.
            request.send();

            // Die Daten der JSON-Datei werden ausgelesen und die Daten von romandata aus dieser JSON-Datei in der Variable roman gespeichert.
            var romanbook = JSON.parse(request.responseText);
            romanbook = romanbook.romandata;

            // Die Variablen mit den Daten, die in die Tabellen sollen, werden an die Funktion zur Tabellenerzeugung uebergeben.
            tabellenAnlegen(horrorbook, "horrorbook");
            tabellenAnlegen(romanbook, "romanbook");
			
			
			document.getElementById("tabelle").style.visibility= "hidden";
            
        }

        

       
        function tabellenAnlegen(jsondatei, buchArt) {
            // Solange noch Datenobjekte in der Variable daten vorhanden sind, sollen die Daten in die Tabelle eingetragen werden.
            for (var i = 0; i < jsondatei.length; i++) {
                // Erzeugung eines jeweiligen Elementes für die Tabellenreihe.
                var tr = document.createElement("TR");

                // Die Variable erhaelt als ID die Bezeichnung "tabellenReihe" mit der Nummer des Datenobjektes aus der Variable des Schleifendurchlaufes.
                tr.setAttribute("id", "tr" + i);

                // Zur uebergebenen Variable wird die jeweilige Tabelle gewaehlt.
                if (buchArt == "horrorbook") {
                    document.getElementById("tabelleZwei").appendChild(tr);
                } else if (buchArt == "romanbook") {
                    document.getElementById("tabelle").appendChild(tr);
                }

                // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte1 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte1Daten = document.createTextNode(jsondatei[i].autor);
                // Daten werden an das Element angefuegt.
                spalte1.appendChild(spalte1Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte1);
				
				
				
				 // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte2 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte2Daten = document.createTextNode(jsondatei[i].titel);
                // Daten werden an das Element angefuegt.
                spalte2.appendChild(spalte2Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte2);
				
				 // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte3 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte3Daten = document.createTextNode(jsondatei[i].kapitel);
                // Daten werden an das Element angefuegt.
                spalte3.appendChild(spalte3Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte3);
				
				 // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte4 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte4Daten = document.createTextNode(jsondatei[i].buchart);
                // Daten werden an das Element angefuegt.
                spalte4.appendChild(spalte4Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte4);
				
				 // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte5 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte5Daten = document.createTextNode(jsondatei[i].ISBN);
                // Daten werden an das Element angefuegt.
                spalte5.appendChild(spalte5Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte5);
				
				 // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte6 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte6Daten = document.createTextNode(jsondatei[i].erscheinungsjahr);
                // Daten werden an das Element angefuegt.
                spalte6.appendChild(spalte6Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte6);
				
				 // Ein neues Element mit Tabellendaten wird erstellt.
                var spalte7 = document.createElement("TD");
                // Der Inhalt des aktuellen Datenobjektes in der Variable daten bei dem Autor wird in der Variable gespeichert.
                var spalte7Daten = document.createTextNode(jsondatei[i].auflage);
                // Daten werden an das Element angefuegt.
                spalte7.appendChild(spalte7Daten);
                // Das Element wird an die Tabellenreihe angefuegt.
                document.getElementById("tr" + i).appendChild(spalte7);
			}
        }

			function ButtonsHorrorbooks(){
				document.getElementById("tabelle").style.visibility="hidden";
				document.getElementById("tabelleZwei").style.visibility="visible";				
				}
				
				function ButtonsRomanbooks(){
				document.getElementById("tabelleZwei").style.visibility="hidden";
				document.getElementById("tabelle").style.visibility="visible";
				
				}

    </script>

    <title>book</title>
</head>

<body>
<h1 >Meine Bücher</h1>


 <button  onclick="ButtonsHorrorbooks()" id="button1" >Horror </button>
  <button  onclick="ButtonsRomanbooks()" id="button2" >Roman</button>


    <table id="tabelle"  border="1">
        <tr>
            <th>Autor</th>
            <th>Titel</th>
            <th>Kapitel</th>
            <th>Art des Buches</th>
            <th>ISBN</th>
            <th>Erscheinungsjahr</th>
            <th>Auflage</th>
        </tr>

    </table>


<table id="tabelleZwei"  border="1">
    <tr>
        <th>Autor</th>
        <th>Titel</th>
        <th>Kapitel</th>
        <th>Art des Buches</th>
        <th>ISBN</th>
        <th>Erscheinungsjahr</th>
        <th>Auflage</th>
    </tr>

</table>



</body>


</html>